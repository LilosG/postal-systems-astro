---
import Base from "../../layouts/Base.astro";

const title = "Services | San Diego Commercial Mailbox";
const description = "Full-stack commercial mailbox installs, maintenance, and related services.";

const files = Object.keys(import.meta.glob('./*.astro'));
const services = files
  .filter((p) => !p.endsWith('index.astro'))
  .map((p) => {
    const slug = p.replace('./', '').replace('.astro', '');
    const label = slug.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');
    return { href: `/services/${slug}`, label };
  })
  .sort((a,b) => a.label.localeCompare(b.label));
---
<Base {title} {description}>
  <h1 class="text-3xl font-semibold mb-6">Services</h1>
  <p class="mb-8 opacity-80">Choose a service below. Each page uses the same layout, header, and footer for visual consistency.</p>
  <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
    {services.map((s) => (
      <a href={s.href} class="block rounded-xl border p-6 hover:shadow-md transition">
        <h2 class="text-lg font-medium mb-2">{s.label}</h2>
        <span class="inline-flex rounded-lg px-3 py-2 text-sm bg-gray-900 text-white">View service</span>
      </a>
    ))}
    <a href="/service-areas" class="block rounded-xl border p-6 hover:shadow-md transition">
      <h2 class="text-lg font-medium mb-2">See Service Areas</h2>
      <p class="text-sm opacity-80 mb-4">Find coverage near you.</p>
      <span class="inline-flex rounded-lg px-3 py-2 text-sm bg-gray-900 text-white">Browse areas</span>
    </a>
  </div>
</Base>
