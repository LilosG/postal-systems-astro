---
import LovableLayout from "../../layouts/LovableLayout.astro";
import { CITIES } from "../../data/cities";

type City = { slug: string; name: string };

export const getStaticPaths = async () => {
  const paths = (CITIES as City[]).map((c) => ({ params: { slug: c.slug } }));
  return paths;
};

const { slug } = Astro.params;
const city = (CITIES as City[]).find((c) => c.slug === slug);

if (!city) {
  throw Astro.redirect('/service-areas');
}

const pageTitle = `${city.name} Service Area | Postal Systems`;
---
<LovableLayout title={pageTitle}>
  <div id="root"></div>

  <section class="pt-24 container mx-auto max-w-6xl px-4">
    <h1 class="text-3xl font-semibold mb-6">{city.name}</h1>
    <p class="mb-8 opacity-80">
      USPS-approved mailbox installation & maintenance in {city.name}.
    </p>
  </section>
</LovableLayout>
