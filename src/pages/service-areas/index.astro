---
import Base from "../../layouts/Base.astro";

const title = "Service Areas | San Diego Commercial Mailbox";
const description = "Browse our current coverage by city and region.";

const files = Object.keys(import.meta.glob('./*.astro'));
const areas = files
  .filter((p) => !p.endsWith('index.astro'))
  .map((p) => {
    const slug = p.replace('./', '').replace('.astro', '');
    const label = slug.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');
    return { href: `/service-areas/${slug}`, label };
  })
  .sort((a,b) => a.label.localeCompare(b.label));
---
<Base {title} {description}>
  <h1 class="text-3xl font-semibold mb-6">Service Areas</h1>
  <p class="mb-8 opacity-80">Each area page uses the unified layout and header.</p>
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {areas.map((a) => (
      <a href={a.href} class="block rounded-xl border p-6 hover:shadow-md transition">
        <h2 class="text-lg font-medium">{a.label}</h2>
      </a>
    ))}
  </div>
</Base>
